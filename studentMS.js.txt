var studentStack={}
, student_course_array=[]
, courseStack={}
, course_fee_array=[]
, feesStack = {}
, examStack={};


function student(student_id,student_name,student_mobile,student_email,student_username,student_password,student_address,student_age){
	this.validate = function(){
		if(this.student_id==''){
			alert('Please enter student id.');
			return false;
		}
		if(this.student_name==''){
			alert('Please enter student name.');
			return false;
		}
		if(this.student_mobile=='')
			student_mobile='NULL';
		if(this.student_email=='')
			student_email='NULL';
		if(this.student_username==''){
			alert('Please enter username.');
			return false;
		}
		if(this.student_password==''){
			alert('Please enter password.');
			return false;
		}
		if(this.student_address=='')
			student_address='NULL';
		if(this.student_age=='')
			student_age='NULL';
		return true;	
	}
	this.validate();
	this.id=student_id;
	this.name=student_name;
	this.mobile=student_mobile;
	this.email=student_email;
	this.username=student_username;
	this.password=student_password;
	this.address=student_address;
	this.age=student_age;
}
student.prototype.getStudentId = function(){
	return this.id;
};
student.prototype.getStudentName = function(){
	return this.name;
};
student.prototype.getStudentMobile = function(){
	return this.mobile;
};
student.prototype.getStudentEmail = function(){
	return this.email;
};
student.prototype.getStudentUserName = function(){
	return this.username;
};
student.prototype.getStudentPassword = function(){
	return this.password;
};
student.prototype.getStudentAddress = function(){
	return this.address;
};
student.prototype.getStudentAge = function(){
	return this.age;
};
student.prototype.addStudent = function(){
	studentStack[this.id]={};
	student_course_array[this.id] = [];
	studentStack[this.id]['name'] = this.name;
	studentStack[this.id]['mobile']= this.mobile;
	studentStack[this.id]['email'] = this.email;
	studentStack[this.id]['username'] = this.username;
	studentStack[this.id]['password'] = this.password;
	studentStack[this.id]['address'] = this.address;
	studentStack[this.id]['age'] = this.age;
	if(window.sessionStorage){
		window.sessionStorage.setItem('student_'+this.id,JSON.stringify(studentStack[this.id]));
	}
	console.log(window.sessionStorage.getItem('student_'+this.id));
};
student.prototype.editStudent = function(student_id,student_name,student_mobile,student_email,student_username,student_password,student_address,student_age){
	if(!studentStack.hasOwnProperty(student_id))
	{
		alert('Student Id doesnot exist. you can edit existing studdent only.');
		return false;
	}
	studentStack[student_id]['name'] = student_name;
	studentStack[student_id]['mobile']= student_mobile;
	studentStack[student_id]['email'] = student_email;
	studentStack[student_id]['username'] = student_username;
	studentStack[student_id]['password'] = student_password;
	studentStack[student_id]['address'] = student_address;
	studentStack[student_id]['age'] = student_age
	if(window.sessionStorage){
		window.sessionStorage.setItem('student_'+student_id,JSON.stringify(studentStack[student_id]));
	}
	console.log(window.sessionStorage.getItem('student_'+student_id));
};
student.prototype.deleteStudent = function(student_id){
	if(!studentStack.hasOwnProperty(student_id))
	{
		alert('Student Id does not exist. you can delete existing student only.');
		return false;
	}
	delete studentStack[student_id];
	window.sessionStorage.removeItem('student_'+student_id);
};
student.prototype.searchStudent = function(student_id){
	if(!studentStack.hasOwnProperty(student_id))
	{
		alert('Student Id does not exist. you can search existing student only.');
		return false;
	}
	if(window.sessionStorage){
		console.log(window.sessionStorage.getItem('student_'+student_id));
		
		for(var i=0;i<=student_course_array[student_id].length;i++){
			if(student_course_array[student_id][i]!=undefined && student_course_array[student_id][i].length)
			{			
				console.log('courses allocated to the mentioned student with course id'+student_course_array[student_id][i]+' have the following details \n');
				console.log(window.sessionStorage.getItem('course_'+student_course_array[student_id][i]));
			}

			if(course_fee_array[student_course_array[student_id][i]]!=undefined && course_fee_array[student_course_array[student_id][i]].length){
				console.log('fees associated with course'+ student_course_array[student_id][i] +' for the mentioned student with fee id '+course_fee_array[student_course_array[student_id][i]]+'\n');
				console.log(window.sessionStorage.getItem('fees_'+course_fee_array[student_course_array[student_id][i]]));

			}
		
		}
		

	}
};

function course(course_id,course_name,course_year,course_type,course_description,course_student_id){
	this.validate = function(){
		if(this.course_id==''){
			alert('Please enter course id.');
			return false;
		}
		if(this.course_name==''){
			alert('Please enter course name.');
			return false;
		}
		if(this.course_year=='')
			course_year='NULL';
		if(this.course_type=='')
			course_type='NULL';
		if(this.course_description=='')
			course_description = 'null';
		if(this.course_student_id==''){
			alert('Please enter COURSE STUDENT ID.');
			return false;
		}
		
		return true;	
	}
	this.validate();
	this.course_id=course_id;
	this.course_name=course_name;
	this.course_year=course_year;
	this.course_type=course_type;
	this.course_description= course_description;
	this. course_student_id = course_student_id;
};

course.prototype.addCourse = function(){
	courseStack[this.course_id]={};
	course_fee_array[this.course_id]=[];
	courseStack [this.course_id]['name'] = this.course_name;
	courseStack [this.course_id]['year']= this.course_year;
	courseStack [this.course_id]['type'] = this.course_type;
	courseStack [this.course_id]['description'] = this.course_description;
	courseStack [this.course_id]['course_student_id'] = this.course_student_id;
	if(window.sessionStorage){
		window.sessionStorage.setItem('course_'+this.course_id,JSON.stringify(courseStack[this.course_id]));
		student_course_array[this.course_student_id].push(this.course_id);
		
	}
	console.log(window.sessionStorage.getItem('course_'+this.course_id));
};
course.prototype.editCourse = function(course_id,course_name,course_year,course_type,course_description,course_student_id){
	if(!courseStack.hasOwnProperty(course_id))
	{
		alert('Course Id does not exist. you can edit existing course only.');
		return false;
	}
	courseStack[course_id]['name'] = course_name;
	courseStack [course_id]['year']= course_year;
	courseStack [course_id]['description'] = course_description;
	courseStack [course_id]['type'] = course_type;
	courseStack [course_id][course_student_id] = course_student_id;
	if(window.sessionStorage){
		window.sessionStorage.setItem('course_'+course_id,JSON.stringify(courseStack[course_id]));
	}
	console.log(window.sessionStorage.getItem('course_'+course_id));
};
course.prototype.deleteCourse= function(course_id){
	if(!courseStack.hasOwnProperty(course_id))
	{
		alert('Course Id does not exist. you can delete existing course only.');
		return false;
	}
	delete courseStack[course_id];
	window.sessionStorage.removeItem('course_'+course_id);
};
course.prototype.searchCourse = function(course_id){
	if(!courseStack.hasOwnProperty(course_id))
	{
		alert('Course Id does not exist. you can search existing course only.');
		return false;
	}
	if(window.sessionStorage){
		console.log(window.sessionStorage.getItem('course_'+course_id));
	}
};

function fees(fees_id,fees_type,fees_description,fees_amount,fees_course_id,fees_total){
	this.validate = function(){
		if(this.fees_id==''){
			alert('Please enter fees id.');
			return false;
		}
		if(this.fees_type==''){
			alert('Please enter fees type.');
			return false;
		}
		if(this.fees_descriptionr=='')
			fees_descriptionr='NULL';
		if(this.fees_amount==''){
			alert('Please enter fees amount.');
			return false;
		}
		if(this.fees_course_id==''){
			alert('Please enter fees course id.');
			return false;
		}
		if(this.fees_total==''){
			alert('Please enter total fees.');
			return false;
		}
		
		return true;	
	}
	this.validate();
	this.fees_id=fees_id;
	this.fees_type=fees_type;
	this.fees_description=fees_description;
	this.fees_amount=fees_amount;
	this.fees_course_id= fees_course_id;
	this.fees_total= fees_total;
};

fees.prototype.addFees = function(){
	feesStack[this.fees_id]={};
	feesStack [this.fees_id]['type'] = this.fees_type;
	feesStack [this.fees_id]['description']= this.fees_description;
	feesStack [this.fees_id]['amount'] = this.fees_amount;
	feesStack [this.fees_id]['course_id'] = this.fees_course_id;
	feesStack [this.fees_id]['total'] = this.fees_total;
	if(window.sessionStorage){
		window.sessionStorage.setItem('fees_'+this.fees_id,JSON.stringify(feesStack[this.fees_id]));
		course_fee_array[this.fees_course_id].push(this.fees_id);
	}
	console.log(window.sessionStorage.getItem('fees_'+this.fees_id));
};
fees.prototype.editFees = function(fees_id,fees_type,fees_description,fees_amount,fees_course_id,fees_total){
	if(!feesStack.hasOwnProperty(fees_id))
	{
		alert('Fees Id does not exist. you can edit existing fee only.');
		return false;
	}
	feesStack[fees_id]['type'] = fees_type;
	feesStack [fees_id]['description']= fees_description;
	feesStack [fees_id]['amount'] = fees_amount;
	feesStack [fees_id]['course_id'] = fees_course_id;
	feesStack [fees_id]['total'] = fees_total;
	if(window.sessionStorage){
		window.sessionStorage.setItem('fees_'+fees_id,JSON.stringify(feesStack[course_id]));
	}
	console.log(window.sessionStorage.getItem('fees_'+fees_id));
};
fees.prototype.deleteFees= function(fees_id){
	if(!feesStack.hasOwnProperty(fees_id))
	{
		alert('Fees Id does not exist. you can delete existing fees only.');
		return false;
	}
	delete feesStack[course_id];
	window.sessionStorage.removeItem('fees_'+fees_id);
};
fees.prototype.searchFees = function(fees_id){
	if(!feesStack.hasOwnProperty(fees_id))
	{
		alert('Fees Id does not exist. you can search existing fees only.');
		return false;
	}
	if(window.sessionStorage){
		console.log(window.sessionStorage.getItem('fees_'+fees_id));
	}
};

function exam(exam_id,exam_name,exam_type,exam_description,exam_date,exam_student_id){
	this.validate = function(){
		if(this.exam_id==''){
			alert('Please enter exam id.');
			return false;
		}
		if(this.exam_type==''){
			alert('Please enter exam type.');
			return false;
		}
		if(this.exam_name==''){
			alert('Please enter exam name.');
			return false;
		}
		if(this.exam_description=='')
			exam_descriptionr='NULL';
			
		if(this.exam_date==''){
			alert('Please enter exam date.');
			return false;
		}
		if(this.exam_student_id==''){
			alert('Please enter exam student id.');
			return false;
		}
		
		return true;	
	}
	this.validate();
	this.exam_id=exam_id;
	this.exam_name=exam_name;
	this.exam_type=exam_type;
	this.fees_description=fees_description;
	this.fees_date=fees_date;
	this.fees_course_id= fees_course_id;
	this.exam_student_id= exam_student_id;
};

exam.prototype.addexam = function(){
	examStack[this.exam_id]={};
	examStack [this.exam_id]['exam_name'] = this.exam_name;
	feesStack [this.exam_id]['exam_type']= this.exam_type;
	feesStack [this.exam_id]['exam_description'] = this.exam_description;
	feesStack [this.exam_id]['exam_date'] = this.exam_date;
	feesStack [this.exam_id]['exam_student_id'] = this.exam_student_id;
	if(window.sessionStorage){
		window.sessionStorage.setItem('exam_'+this.exam_id,JSON.stringify(examStack[this.exam_id]));
	}
	console.log(window.sessionStorage.getItem('exam_'+this.exam_id));
};
fees.prototype.editFees = function(exam_id,exam_name,exam_type,exam_description,exam_date,exam_student_id){
	if(!examStack.hasOwnProperty(exam_id))
	{
		alert('Exam Id does not exist. you can edit existing exam only.');
		return false;
	}
	feesStack[exam_id]['exam_name'] = exam_name;
	feesStack [exam_id]['exam_type']= fees_type;
	feesStack [exam_id]['exam_description'] = exam_description;
	feesStack [exam_id]['exam_date'] = exam_date;
	feesStack [exam_id]['exam_student_id'] = exam_student_id;
	if(window.sessionStorage){
		window.sessionStorage.setItem('exam_'+exam_id,JSON.stringify(examStack[exam_id]));
	}
	console.log(window.sessionStorage.getItem('exam_'+exam_id));
};
exam.prototype.deleteExam= function(exam_id){
	if(!examStack.hasOwnProperty(exam_id))
	{
		alert('Exam Id does not exist. you can delete existing Exam only.');
		return false;
	}
	delete examStack[exam_id];
	window.sessionStorage.removeItem('exam_'+exam_id);
};
exam.prototype.searchExam = function(exam_id){
	if(!examStack.hasOwnProperty(exam_id))
	{
		alert('Exam Id does not exist. you can search existing exam only.');
		return false;
	}
	if(window.sessionStorage){
		console.log(window.sessionStorage.getItem('exam_'+exam_id));
	}
}


var student1=new student('1','neha','9899393929','n@gmail.com','nehajain','12345678','delhi','30');
student1.addStudent();
var student2=new student('2','vikesh','9899393929','v@gmail.com','vikesh mittal','12345678','delhi','30');
student2.addStudent();
var c1 = new course('c001','english111','2017','BASIC','NULL','1');
c1.addCourse();
var c1 = new course('c002','english','2017','BASIC','NULL','1');
c1.addCourse();
var c1 = new course('c001','english111','2017','BASIC','NULL','2');
c1.addCourse();
var fee1 = new fees('f001','partial','dfjhjf','99909','c002','38912');

fee1.addFees();
var fee1 = new fees('f002','partial','dfjhjf','9999898','c001','3891209');

fee1.addFees();
student1.searchStudent('1');


output : 

{"name":"neha","mobile":"9899393929","email":"n@gmail.com","username":"nehajain","password":"12345678","address":"delhi","age":"30"}
VM704:84 {"name":"vikesh","mobile":"9899393929","email":"v@gmail.com","username":"vikesh mittal","password":"12345678","address":"delhi","age":"30"}
VM704:186 {"name":"english111","year":"2017","type":"BASIC","description":"NULL","course_student_id":"1"}
VM704:186 {"name":"english","year":"2017","type":"BASIC","description":"NULL","course_student_id":"1"}
VM704:186 {"name":"english111","year":"2017","type":"BASIC","description":"NULL","course_student_id":"2"}
VM704:271 {"type":"partial","description":"dfjhjf","amount":"99909","course_id":"c002","total":"38912"}
VM704:271 {"type":"partial","description":"dfjhjf","amount":"9999898","course_id":"c001","total":"3891209"}
VM704:120 {"name":"neha","mobile":"9899393929","email":"n@gmail.com","username":"nehajain","password":"12345678","address":"delhi","age":"30"}
VM704:125 courses allocated to the mentioned student with course idc001 have the following details 

VM704:126 {"name":"english111","year":"2017","type":"BASIC","description":"NULL","course_student_id":"2"}
VM704:130 fees associated with coursec001 for the mentioned student with fee id f002

VM704:131 {"type":"partial","description":"dfjhjf","amount":"9999898","course_id":"c001","total":"3891209"}
VM704:125 courses allocated to the mentioned student with course idc002 have the following details 

VM704:126 {"name":"english","year":"2017","type":"BASIC","description":"NULL","course_student_id":"1"}
VM704:130 fees associated with coursec002 for the mentioned student with fee id f001

VM704:131 {"type":"partial","description":"dfjhjf","amount":"99909","course_id":"c002","total":"38912"}




